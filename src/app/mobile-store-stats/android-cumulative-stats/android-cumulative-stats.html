<div class="row">
  <div class="col-sm-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Current/Total Installs</h3>
        <button ng-click="androidCumulativeStatsVm.updateData()" id="android-cumulative-stats-update-btn" class="hidden"></button>
      </div>
      <div class="panel-body">
        <highchart id="android-cumulative-stats" config="androidCumulativeStatsVm.lineChartConfig"></highchart>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-sm-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <div class="dropdown">
          <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            {{androidCumulativeStatsVm.selectedSubject}}
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
            <li ng-repeat="subject in androidCumulativeStatsVm.dataSubjects">
              <a href="" ng-click="androidCumulativeStatsVm.selectDropdownSubject(subject)">{{subject}}</a>
            </li>
          </ul>
        </div>
      </div>
      <table class="table table-striped table-bordered table-hover" id="linechart-table">
        <thead>
          <tr>
            <th>Date</th>
            <th class="text-right">Total</th>
            <th class="text-right">Change Net / %</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="item in androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data">
            <td>{{item[0] | date:'longDate'}}</td>
            <td class="text-right">{{item[1] | number}}</td>
            <td class="text-right increased" ng-if="$index !== androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data.length-1 && (item[1] - androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data[$index+1][1]) > 0">
              {{(item[1] - androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data[$index+1][1]) | number}} <i class="fa fa-sort-asc fa-fw"></i>
              {{((item[1] - androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data[$index+1][1]) / androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data[$index+1][1]) | percentage:2}}
            </td>
            <td class="text-right decreased" ng-if="$index !== androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data.length-1 && (item[1] - androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data[$index+1][1]) < 0">
              {{(item[1] - androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data[$index+1][1]) | number}} <i class="fa fa-sort-desc fa-fw"></i>
              {{((item[1] - androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data[$index+1][1]) / androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data[$index+1][1]) | percentage:2}}
            </td>
            <td class="text-right" ng-if="$index !== androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data.length-1 && (item[1] - androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data[$index+1][1]) === 0">
              0 <i class="fa fa-fw">-</i> 0.00%
            </td>
            <td class="text-right" ng-if="$index === androidCumulativeStatsVm.reverseLineChartData[androidCumulativeStatsVm.getSubjectIndex()].data.length-1">-</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>