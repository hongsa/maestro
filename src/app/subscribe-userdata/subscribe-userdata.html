<div class="row">
  <div class="col-lg-12">
    <h1 class="page-header"> Subscribers</h1>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
    <div class="panel panel-default">
      <div class="panel-body">
        <form class="form-inline">
          <div class="form-group">
            <label for="startDate">Range: </label>
            <input type="date" id="start-date" class="form-control" name="startDate"
                   ng-model="subscribeUserDataVm.dateRange.startDate"
                   placeholder="yyyy-MM-dd"/>
          </div>
          <div class="form-group">
            <label for="endDate">-</label>
            <input type="date" id="end-date" class="form-control" name="endDate"
                   ng-model="subscribeUserDataVm.dateRange.endDate"
                   placeholder="yyyy-MM-dd"/>
          </div>
          <div class="form-group">
            <button type="button" class="btn btn-primary" name="date-update"
                    ng-click="subscribeUserDataVm.lineChartFilter()">Go! <i class="fa fa-arrow-right fa-fw"></i></button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
    <div class="panel panel-default">
      <div class="panel-body">
        <div class="col-sm-6">
          <highchart config="subscribeUserDataVm.lineChartPaidDataConfig"></highchart>
        </div>

        <div class="col-sm-6">
          <highchart config="subscribeUserDataVm.lineChartUpgradeDataConfig"></highchart>
        </div>
      </div>

      <div class="panel-footer">
        <div class="row">
          <form>
            <div class="col-sm-6 form-group">
              <label for="rangeSelectBtn">Range: </label>
              <select class="form-control" ng-model="subscribeUserDataVm.selectedRange" name="rangeSelectBtn"
                      id="range-select-btn" ng-change="subscribeUserDataVm.lineChartFilter()">
                <option ng-repeat="range in subscribeUserDataVm.availableRanges" value="{{range}}">{{range | titleCase}}
                </option>
              </select>
            </div>
            <!--<div class="col-sm-4 form-group">-->
              <!--<label for="roleSelectBtn">Role: </label>-->
              <!--<select class="form-control" ng-model="subscribeUserDataVm.selectedRoleFilter" name="roleSelectBtn"-->
                      <!--id="role-select-btn" ng-change="subscribeUserDataVm.lineChartFilter()">-->
                <!--<option value="all">All</option>-->
                <!--<option ng-repeat="role in subscribeUserDataVm.availableRoles" value="{{role}}">{{role | titleCase}}-->
                <!--</option>-->
              <!--</select>-->
            <!--</div>-->
            <div class="col-sm-6 form-group">
              <label for="deviceSelectBtn">Device: </label>
              <select class="form-control" ng-model="subscribeUserDataVm.selectedDeviceFilter" name="deviceSelectBtn"
                      id="device-select-btn" ng-change="subscribeUserDataVm.lineChartFilter()">
                <option value="all">All</option>
                <option ng-repeat="device in subscribeUserDataVm.availableDevices" value="{{device}}">{{device |
                  device}}
                </option>
              </select>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Table -->
<div class="row">
  <div class="col-sm-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <div class="dropdown">
          <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="true">
            {{subscribeUserDataVm.selectedRange | titleCase}}
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
            <li ng-repeat="range in subscribeUserDataVm.availableRanges">
              <a href="" ng-click="subscribeUserDataVm.selectDropdownRange(range)">{{range | titleCase}}</a>
            </li>
          </ul>
          <button class="btn btn-success pull-right" type="button" name="downloadCSV" id="user-stats-download-btn"
                  ng-click="subscribeUserDataVm.fetchAndDownloadCSV(subscribeUserDataVm.reversedData,'LineChart')">
            export CSV
          </button>
        </div>
      </div>
      <table class="table table-striped table-bordered table-hover" id="linechart-table">
        <thead>
        <tr>
          <th class="col-sm-2">Date</th>
          <th class="col-sm-1">Trial to Basic</th>
          <th class="col-sm-1">Trial to Standard</th>
          <th class="col-sm-1">Trial to Premium</th>
          <th class="col-sm-1">Basic subscribers</th>
          <th class="col-sm-1">Standard subscribers</th>
          <th class="col-sm-1">Premium subscribers</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="item in subscribeUserDataVm.reversedDataContainer">
          <td class="col-sm-2" ng-style="subscribeUserDataVm.getDateColor({{item[0]}})">{{item[0]| date:'yyyy. MM. dd (EEE)'}}</td>
          <td class="col-sm-1 text-left">{{item[1] | number}} (
          <span class="text-right increased" ng-if="item[2] > 0">
            {{(item[2]) | number}}
            <i class="fa fa-sort-asc fa-fw"></i>
            {{(item[3]) | percentage:2}} )
          </span>
          <span class="text-right decreased" ng-if="item[2] < 0">
            {{(item[2]) | number}}
            <i class="fa fa-sort-desc fa-fw"></i>
            {{(item[3]) | percentage:2}} )
          </span>
          <span class="text-right" ng-if="item[2] === 0">
            0 <i class="fa fa-fw">-</i> 0.00% )
          </span>
          <span class="text-right" ng-if="item[2] === '-'">
            - )
          </span>
          </td>

          <td class="col-sm-1 text-left">{{item[4] | number}} (
          <span class="text-right increased" ng-if="item[5] > 0">
            {{(item[5]) | number}}
            <i class="fa fa-sort-asc fa-fw"></i>
            {{(item[6]) | percentage:2}} )
          </span>
          <span class="text-right decreased" ng-if="item[5] < 0">
            {{(item[5]) | number}}
            <i class="fa fa-sort-desc fa-fw"></i>
            {{(item[6]) | percentage:2}} )
          </span>
          <span class="text-right" ng-if="item[5] === 0">
            0 <i class="fa fa-fw">-</i> 0.00% )
          </span>
          <span class="text-right" ng-if="item[5] === '-'">
            - )
          </span>
          </td>

          <td class="col-sm-1 text-left">{{item[7] | number}} (
          <span class="text-right increased" ng-if="item[8] > 0">
            {{(item[8]) | number}}
            <i class="fa fa-sort-asc fa-fw"></i>
            {{(item[9]) | percentage:2}} )
          </span>
          <span class="text-right decreased" ng-if="item[8] < 0">
            {{(item[8]) | number}}
            <i class="fa fa-sort-desc fa-fw"></i>
            {{(item[9]) | percentage:2}} )
          </span>
          <span class="text-right" ng-if="item[8] === 0">
            0 <i class="fa fa-fw">-</i> 0.00% )
          </span>
          <span class="text-right" ng-if="item[8] === '-'">
            - )
          </span>
          </td>

          <td class="col-sm-1 text-left">{{item[10] | number}} (
          <span class="text-right increased" ng-if="item[11] > 0">
            {{(item[12]) | number}}
            <i class="fa fa-sort-asc fa-fw"></i>
            {{(item[12]) | percentage:2}} )
          </span>
          <span class="text-right decreased" ng-if="item[11] < 0">
            {{(item[11]) | number}}
            <i class="fa fa-sort-desc fa-fw"></i>
            {{(item[12]) | percentage:2}} )
          </span>
          <span class="text-right" ng-if="item[11] === 0">
            0 <i class="fa fa-fw">-</i> 0.00% )
          </span>
          <span class="text-right" ng-if="item[11] === '-'">
            - )
          </span>
          </td>

          <td class="col-sm-1 text-left">{{item[13] | number}} (
          <span class="text-right increased" ng-if="item[14] > 0">
            {{(item[14]) | number}}
            <i class="fa fa-sort-asc fa-fw"></i>
            {{(item[15]) | percentage:2}} )
          </span>
          <span class="text-right decreased" ng-if="item[14] < 0">
            {{(item[14]) | number}}
            <i class="fa fa-sort-desc fa-fw"></i>
            {{(item[15]) | percentage:2}} )
          </span>
          <span class="text-right" ng-if="item[14] === 0">
            0 <i class="fa fa-fw">-</i> 0.00% )
          </span>
          <span class="text-right" ng-if="item[14] === '-'">
            - )
          </span>
          </td>

          <td class="col-sm-1 text-left">{{item[16] | number}} (
          <span class="text-right increased" ng-if="item[17] > 0">
            {{(item[17]) | number}}
            <i class="fa fa-sort-asc fa-fw"></i>
            {{(item[18]) | percentage:2}} )
          </span>
          <span class="text-right decreased" ng-if="item[17] < 0">
            {{(item[17]) | number}}
            <i class="fa fa-sort-desc fa-fw"></i>
            {{(item[18]) | percentage:2}} )
          </span>
          <span class="text-right" ng-if="item[17] === 0">
            0 <i class="fa fa-fw">-</i> 0.00% )
          </span>
          <span class="text-right" ng-if="item[17] === '-'">
            - )
          </span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <div class="text-center">
      <uib-pagination boundary-links="true" total-items="subscribeUserDataVm.totalItem"
                      ng-model="subscribeUserDataVm.currentPage"
                      ng-change="subscribeUserDataVm.pageChanged(subscribeUserDataVm.currentPage)" items-per-page="20"
                      max-size="10" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;"
                      last-text="&raquo;"></uib-pagination>
    </div>
  </div>
</div>

<!-- Pie Graph -->
<!--<div class="row">-->
  <!--<div class="col-sm-12">-->
    <!--<div class="panel panel-default">-->
      <!--<div class="panel-body">-->
        <!--<div class="row">-->
          <!--<div class="col-sm-12">-->
            <!--<div class="panel panel-default">-->
              <!--<div class="panel-body">-->
                <!--<form class="form-inline">-->
                  <!--<div class="form-group">-->
                    <!--<label for="startDate">Range: </label>-->
                    <!--<input type="date" class="form-control" name="startDate"-->
                           <!--ng-model="subscribeUserDataVm.dateRangePieChart.startDate"-->
                           <!--placeholder="yyyy-MM-dd"/>-->
                  <!--</div>-->
                  <!--<div class="form-group">-->
                    <!--<label for="endDate">-</label>-->
                    <!--<input type="date" class="form-control" name="endDate"-->
                           <!--ng-model="subscribeUserDataVm.dateRangePieChart.endDate"-->
                           <!--placeholder="yyyy-MM-dd"/>-->
                  <!--</div>-->
                  <!--<div class="form-group">-->
                    <!--<button type="button" class="btn btn-primary" name="date-update"-->
                            <!--ng-click="subscribeUserDataVm.getPieChart()">Go! <i class="fa fa-arrow-right fa-fw"></i>-->
                    <!--</button>-->
                  <!--</div>-->
                <!--</form>-->
              <!--</div>-->
            <!--</div>-->
          <!--</div>-->
        <!--</div>-->
        <!--<div class="col-sm-5">-->
          <!--<highchart id="piechart" config="subscribeUserDataVm.pieChartConfig"></highchart>-->
        <!--</div>-->
        <!--<div class="col-sm-7">-->
          <!--<div class="dropdown">-->
            <!--<button class="btn btn-default dropdown-toggle" type="button" id="pie-filter-select-btn"-->
                    <!--data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">-->
              <!--{{subscribeUserDataVm.selectedPieChartFilter | titleCase}}-->
              <!--<span class="caret"></span>-->
            <!--</button>-->
            <!--<ul class="dropdown-menu" aria-labelledby="pie-filter-select-btn">-->
              <!--<li ng-repeat="filter in subscribeUserDataVm.availablePieChartFilters">-->
                <!--<a href="" ng-click="subscribeUserDataVm.pieChartFilter(filter)">{{filter | titleCase}}</a>-->
              <!--</li>-->
            <!--</ul>-->
            <!--<button class="btn btn-success" type="button" name="downloadCSV"-->
                    <!--ng-click="subscribeUserDataVm.fetchAndDownloadCSV(subscribeUserDataVm.pieChartSumData,'PieChart')">-->
              <!--export CSV-->
            <!--</button>-->
          <!--</div>-->
          <!--<h3>Total Users by {{subscribeUserDataVm.selectedPieChartFilter | titleCase}}</h3>-->
          <!--<h5>Total Users: {{subscribeUserDataVm.currentPieChartTotalUsers.value - -->
            <!--subscribeUserDataVm.currentPieChartDeleteUsers.value | number}}</h5>-->
          <!--<br>-->
          <!--<table class="table table-striped table-bordered table-hover" id="piechart-table">-->
            <!--<thead>-->
            <!--<tr>-->
              <!--<th>{{subscribeUserDataVm.selectedPieChartFilter | titleCase}}</th>-->
              <!--<th class="text-right">Count</th>-->
              <!--<th class="text-right">Proportion</th>-->
            <!--</tr>-->
            <!--</thead>-->
            <!--<tbody>-->
            <!--<tr ng-repeat="item in subscribeUserDataVm.pieChartSumData | orderBy:'y':true | limitTo:5">-->
              <!--<td>{{item.name | titleCase | device}}</td>-->
              <!--<td class="text-right">{{item.y | number}}</td>-->
              <!--<td class="text-right">{{subscribeUserDataVm.getPieChartProportion(item.y) | percentage:1}}</td>-->
            <!--</tr>-->
            <!--</tbody>-->
          <!--</table>-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->
<!--</div>-->

